(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{45:function(e,t,n){"use strict";n.r(t);n(96);var i=n(338),o=(n(38),n(0)),u=n.n(o),r=n(59);n(97),n(39),n(40),n(41);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=l(this,f(n).call(this,e))).ref=u.a.createRef(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,o["PureComponent"]),function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(n,[{key:"componentDidMount",value:function(){var t=this,e=this.ref.current,n=this.props.defaultCode,o=void 0===n?"":n;this.CodeMirrorEditor=r.fromTextArea(e,{mode:"text/markdown",theme:"material",lineNumbers:!0}),this.CodeMirrorEditor.setValue(o),this.CodeMirrorEditor.on("changes",function(e){t.props.onChange&&t.props.onChange(e.getValue())})}},{key:"componentDidUpdate",value:function(e){var t=e.defaultCode,n=this.props.defaultCode;t!==n&&this.CodeMirrorEditor.setValue(n)}},{key:"render",value:function(){return u.a.createElement("div",{className:"m-markdown-editor"},u.a.createElement("textarea",{ref:this.ref}))}}]),n}(),d=n(100),y=n.n(d),m=n(101),b=n.n(m);n(42),n(43);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=w(this,g(t).call(this)),y.a.setOptions({renderer:new y.a.Renderer,highlight:function(e){return b.a.highlightAuto(e).value},baseUrl:null,breaks:!1,gfm:!0,tables:!0,headerIds:!0,headerPrefix:"",langPrefix:"language-",mangle:!0,pedantic:!1,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,o["PureComponent"]),function(e,t,n){t&&v(e.prototype,t),n&&v(e,n)}(t,[{key:"render",value:function(){var e=this.props.source,t=void 0===e?"":e;return u.a.createElement("div",{className:"m-markdown-render markdown-body",dangerouslySetInnerHTML:{__html:y()(t||"")}})}}]),t}();function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j=function(){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(k(e=function(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?k(e):t}(this,_(t).call(this))),"getMousePos",function(e){var t=e||window.event;return{x:t.clientX,y:t.clientY}}),e.ref=u.a.createRef(),e.state={code:null,editorWidth:document.body.clientWidth/2,contextWidth:document.body.clientWidth/2,mouseDownFlag:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,o["PureComponent"]),function(e,t,n){t&&S(e.prototype,t),n&&S(e,n)}(t,[{key:"componentDidMount",value:function(){var n=this,e=this.ref.current,t=document.querySelector("body"),o=document.body.clientWidth;e.addEventListener("mousedown",function(){n.setState({mouseDownFlag:!0})}),t.addEventListener("mousemove",function(e){var t=n.getMousePos(e);n.state.mouseDownFlag&&(t.x<=100?n.setState({editorWidth:"100px",contextWidth:o-100+"px"}):o-t.x<=100?n.setState({editorWidth:o-100+"px",contextWidth:"100px"}):n.setState({editorWidth:t.x+"px",contextWidth:o-t.x+"px"}))}),t.addEventListener("mouseup",function(){n.setState({mouseDownFlag:!1}),console.log(1)})}},{key:"componentWillUnmount",value:function(){var e=this.ref.current,t=document.querySelector("body");e.removeEventListener("mousedown"),t.removeEventListener("mousemove"),t.removeEventListener("mouseup")}},{key:"goBack",value:function(){window.location.href="".concat(location.origin,"/tool/index")}},{key:"getCode",value:function(e){this.setState({code:e})}},{key:"render",value:function(){var t=this,e=this.state,n=e.code,o=e.editorWidth,r=e.contextWidth;return u.a.createElement("div",{className:"g-markdown"},u.a.createElement("div",{className:"header"},u.a.createElement("span",{className:"goback",onClick:function(){return t.goBack()}},u.a.createElement(i.a,{type:"left"}),"返回")),u.a.createElement("div",{className:"body"},u.a.createElement("div",{className:"editor",style:{width:o}},u.a.createElement(p,{defaultCode:"",onChange:function(e){return t.getCode(e)}})),u.a.createElement("div",{className:"drag-line",ref:this.ref,style:{left:o}}),u.a.createElement("div",{className:"context",style:{width:r}},u.a.createElement(O,{source:n}))))}}]),t}();t.default=j}}]);