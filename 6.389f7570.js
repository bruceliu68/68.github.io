(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{54:function(e,t,n){"use strict";n.r(t);n(105);var a=n(347),o=n(5),r=n.n(o),i=n(6),s=n.n(i),d=n(7),u=n.n(d),c=n(8),l=n.n(c),m=n(26),h=n.n(m),f=n(9),v=n.n(f),p=n(13),g=n.n(p),y=(n(47),n(0)),w=n.n(y),x=n(68),E=(n(106),n(48),n(49),n(50),function(e){function n(e){var t;return r()(this,n),(t=u()(this,l()(n).call(this,e))).ref=w.a.createRef(),t}return v()(n,e),s()(n,[{key:"componentDidMount",value:function(){var t=this,e=this.ref.current,n=this.props.defaultCode,o=void 0===n?"":n;this.CodeMirrorEditor=x.fromTextArea(e,{mode:"text/markdown",theme:"material",lineNumbers:!0}),this.CodeMirrorEditor.setValue(o),this.CodeMirrorEditor.on("changes",function(e){t.props.onChange&&t.props.onChange(e.getValue())})}},{key:"componentDidUpdate",value:function(e){var t=e.defaultCode,n=this.props.defaultCode;t!==n&&this.CodeMirrorEditor.setValue(n)}},{key:"render",value:function(){return w.a.createElement("div",{className:"m-markdown-editor"},w.a.createElement("textarea",{ref:this.ref}))}}]),n}(y.PureComponent)),k=n(109),C=n.n(k),b=n(110),W=n.n(b),N=(n(51),n(52),function(e){function t(){var e;return r()(this,t),e=u()(this,l()(t).call(this)),C.a.setOptions({renderer:new C.a.Renderer,highlight:function(e){return W.a.highlightAuto(e).value},baseUrl:null,breaks:!1,gfm:!0,tables:!0,headerIds:!0,headerPrefix:"",langPrefix:"language-",mangle:!0,pedantic:!1,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}),e}return v()(t,e),s()(t,[{key:"render",value:function(){var e=this.props.source,t=void 0===e?"":e;return w.a.createElement("div",{className:"m-markdown-render markdown-body",dangerouslySetInnerHTML:{__html:C()(t||"")}})}}]),t}(y.PureComponent)),M=function(e){function t(){var e;return r()(this,t),e=u()(this,l()(t).call(this)),g()(h()(e),"getMousePos",function(e){var t=e||window.event;return{x:t.clientX,y:t.clientY}}),e.ref=w.a.createRef(),e.state={code:null,editorWidth:document.body.clientWidth/2,contextWidth:document.body.clientWidth/2,mouseDownFlag:!1},e}return v()(t,e),s()(t,[{key:"componentDidMount",value:function(){var n=this,e=this.ref.current,t=document.querySelector("body"),o=document.body.clientWidth;e.addEventListener("mousedown",function(){n.setState({mouseDownFlag:!0})}),t.addEventListener("mousemove",function(e){var t=n.getMousePos(e);n.state.mouseDownFlag&&(t.x<=100?n.setState({editorWidth:"100px",contextWidth:o-100+"px"}):o-t.x<=100?n.setState({editorWidth:o-100+"px",contextWidth:"100px"}):n.setState({editorWidth:t.x+"px",contextWidth:o-t.x+"px"}))}),t.addEventListener("mouseup",function(){n.setState({mouseDownFlag:!1}),console.log(1)})}},{key:"componentWillUnmount",value:function(){var e=this.ref.current,t=document.querySelector("body");e.removeEventListener("mousedown"),t.removeEventListener("mousemove"),t.removeEventListener("mouseup")}},{key:"goBack",value:function(){window.location.href="".concat(location.origin,"/tool/index")}},{key:"getCode",value:function(e){this.setState({code:e})}},{key:"render",value:function(){var t=this,e=this.state,n=e.code,o=e.editorWidth,r=e.contextWidth;return w.a.createElement("div",{className:"g-markdown"},w.a.createElement("div",{className:"header"},w.a.createElement("span",{className:"goback",onClick:function(){return t.goBack()}},w.a.createElement(a.a,{type:"left"}),"返回")),w.a.createElement("div",{className:"body"},w.a.createElement("div",{className:"editor",style:{width:o}},w.a.createElement(E,{defaultCode:"",onChange:function(e){return t.getCode(e)}})),w.a.createElement("div",{className:"drag-line",ref:this.ref,style:{left:o}}),w.a.createElement("div",{className:"context",style:{width:r}},w.a.createElement(N,{source:n}))))}}]),t}(y.PureComponent);t.default=M}}]);